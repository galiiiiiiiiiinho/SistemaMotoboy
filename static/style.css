/* =========================
   Tema • GICON (mais espaçado)
   ========================= */
:root{
  --bg:#0b0c10;
  --fg:#eaeaea;
  --muted:#a0a0a0;
  --card:#14161b;
  --border:#20232b;
  --gicon:#00b3d7;
  --accent: var(--gicon);
}

/* ===== Base / reset leve ===== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--fg);
  background:var(--bg);
  line-height:1.45;
}

/* ===== Fundo com imagem ===== */
.with-bg{
  background-image:url('/static/img/foto-abertura-scaled.jpg');
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
}
.bg-mask{ position:fixed; inset:0; background:rgba(0,0,0,.72); z-index:0 }

/* ===== Topbar ===== */
.topbar{
  position:sticky; top:0; z-index:5;
  display:flex; justify-content:space-between; align-items:center;
  padding:14px 20px;
  background:rgba(15,17,22,.85);
  backdrop-filter: blur(4px);
  border-bottom:1px solid var(--border);
}
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px }
.brand-logo{ height:28px }
.brand-text{ opacity:.9 }
nav a{ color:#fff; text-decoration:none; opacity:.9; margin-left:10px }
nav a:hover{ opacity:1 }

/* ===== Container ===== */
.container{
  position:relative; z-index:1;
  padding:24px;
  max-width:1200px;
  margin:0 auto;
}
h1{ margin:0 0 18px; font-size:22px }
h2{ margin:26px 0 10px; font-size:18px; color:var(--accent) }

/* ===== Cabeçalho/infos ===== */
.page-title{ margin:4px 0 2px; font-size:22px; letter-spacing:.2px }
.page-sub{ margin:0 0 16px; opacity:.9; font-size:18px; font-weight:600 }

/* ===== Datebar (sticky) ===== */
.datebar{ display:flex; align-items:stretch; margin:10px 0 22px }
.datebar.sticky{ position:sticky; top:56px; z-index:3 }
.datebar-inner{
  display:flex; align-items:center; gap:10px;
  background:rgba(20,22,27,.85);
  border:1px solid var(--border); border-radius:14px; padding:6px 8px;
  box-shadow:0 4px 18px rgba(0,0,0,.25);
  backdrop-filter: blur(4px);
}
.date-icon{ font-size:18px; opacity:.9; padding-left:6px }
.datebar input[type="date"]{
  flex:1; max-width:220px; padding:0 14px; height:44px;
  border:1px solid var(--border); border-right:0;
  border-radius:12px 0 0 12px;
  background:#0f1116; color:var(--fg); color-scheme: dark;
}
.datebar input[type="date"]::-webkit-calendar-picker-indicator{
  background-color:transparent; filter:invert(1) brightness(1.8);
  opacity:1; cursor:pointer;
}
.datebar .btn-go{
  height:44px; padding:0 20px; margin:0 !important;
  border:0; border-radius:0 12px 12px 0;
  background:var(--accent); color:#042; font-weight:700; cursor:pointer;
}

/* ===== KPIs ===== */
.stats{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fit, minmax(190px,1fr));
  margin:14px 0 18px;
}
.stat-card{
  background:rgba(20,22,27,.92);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  text-align:center;
  display:flex; align-items:center; gap:12px;
  text-align:left;
}
.kpi{ font-size:34px; font-weight:800 }
.kpi-label{ opacity:.85; margin-top:4px }
.kpi-icon{ font-size:26px; line-height:1 }
.kpi-primary{
  background:linear-gradient(180deg, rgba(0,179,215,.18), rgba(0,179,215,.08));
  border-color: rgba(0,179,215,.35);
}

/* ===== Seção ===== */
.section-head{ display:flex; align-items:center; gap:10px; margin:18px 0 8px }
.section-head h2{ margin:0; font-size:16px; color:var(--accent); letter-spacing:.3px }
.section-head::after{ content:""; flex:1; height:1px; background:var(--border); opacity:.6 }
.pill{
  display:inline-block; min-width:28px; text-align:center;
  padding:4px 10px; border-radius:999px; font-size:.78rem; font-weight:700;
  background:rgba(255,255,255,.08); border:1px solid var(--border);
}

/* ===== Grid / Cartões ===== */
.grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(auto-fill, minmax(340px,1fr));
  margin:10px 0 26px;
}
.card, .cartao{
  background:rgba(20,22,27,.92);
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
  box-shadow:0 2px 10px rgba(0,0,0,.35);
}
.card.muted{ color:var(--muted) }
.cartao{ display:flex; flex-direction:column; gap:8px }
.cartao .linha{ display:flex; gap:10px; margin:8px 0 }
.cartao .lb{ min-width:200px; font-weight:600; opacity:.9 }
.cartao .vl{ flex:1 }

/* Cabeçalho do cartão */
.cartao-head{
  display:flex; align-items:center; gap:8px;
  justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,.06);
  padding-bottom:8px;
}
.empresa{
  font-weight:800; letter-spacing:.2px;
  white-space:normal; overflow:visible; text-overflow:clip;
}
.doc-badge{
  font-size:12px; padding:4px 8px; border-radius:999px;
  background:rgba(0,179,215,.15); color:#aee9f8;
  border:1px solid rgba(0,179,215,.35);
}

/* Rodapé de ações do cartão */
.card-actions{
  margin-top:8px; padding-top:10px;
  border-top:1px dashed rgba(255,255,255,.08);
  display:flex; gap:10px; align-items:center; justify-content:flex-end;
}

/* Pills de status */
.pill-done{
  background:rgba(16,185,129,.18);
  border:1px solid rgba(16,185,129,.35);
  color:#d1fae5;
}
.pill-overdue{
  background:rgba(239,68,68,.16);
  border:1px solid rgba(239,68,68,.38);
  color:#fecaca;
}

/* Estado concluído (caso não remova) */
.cartao.is-done{ opacity:.55; filter:grayscale(30%) }
.cartao.is-done .empresa,
.cartao.is-done .linha .vl{
  text-decoration: line-through;
  text-decoration-thickness:2px;
  text-decoration-color: rgba(255,255,255,.35);
}

/* Botões de ação */
.btn-done{
  appearance:none;
  border:1px solid rgba(16,185,129,.35);
  background:rgba(16,185,129,.15);
  color:#d1fae5;
  padding:6px 12px;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}
.btn-done:hover{ filter:brightness(1.06) }
.btn-done:disabled{ opacity:.6; cursor:not-allowed }

.btn-resched{
  appearance:none;
  display:inline-block;
  border:1px solid rgba(234,179,8,.35);
  background:rgba(234,179,8,.15);
  color:#fde68a;
  padding:6px 12px;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
  position:relative;
}
.btn-resched:hover{ filter:brightness(1.06) }

/* ===== Login ===== */
.login-wrap{ display:flex; justify-content:center; align-items:center; min-height:60vh }
.login-card{
  width:min(460px,92vw);
  background:rgba(20,22,27,.95);
  border:1px solid var(--border);
  border-radius:18px;
  padding:22px 18px;
  box-shadow:0 12px 34px rgba(0,0,0,.35);
}
.login-head{ text-align:center; margin-bottom:14px }
.login-logo{ height:44px; margin-bottom:6px }
.login-title{ font-size:20px; font-weight:800 }
.login-sub{ opacity:.85; margin-top:2px }
label{ display:block; margin:10px 0 6px }
input{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid var(--border); background:#0f1116; color:var(--fg);
}
button{
  margin-top:12px; padding:12px 14px; border:0; border-radius:12px;
  background:var(--accent); color:#042; font-weight:800; cursor:pointer;
}
.error{ margin-top:8px; color:#ffd4d4 }

/* Centralizações no login */
.login-card button{ display:block; margin:14px auto 0; width:120px; text-align:center }
.login-card label{ text-align:center; font-weight:600 }
.login-card input[type="password"]{ display:block; margin:0 auto; width:60%; text-align:center }

/* ===== Modal de Reagendamento ===== */
.modal.hidden{ display:none }
/* Overlay do modal: volta a ser translúcido e com blur suave */
.modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: rgba(0, 0, 0, 0.82); /* bem mais escuro */
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  display: grid;
  place-items: center;
  padding: 16px;
}


/* Caixa do modal sólida (fica igual) */
.modal-box{
  width: min(420px, 92vw);
  background: #0f172a;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  box-shadow: 0 24px 64px rgba(0,0,0,.65);
  padding: 18px;
  color:#e5e7eb;
}

/* Campo date legível no dark */
.modal-field input[type="date"]{
  width: 100%;
  background:#0b1220;
  border:1px solid rgba(255,255,255,.14);
  color:#e5e7eb;
  border-radius:10px;
  padding:10px 12px;
}
.modal-field input[type="date"]::-webkit-calendar-picker-indicator{
  filter: invert(1) opacity(.9);
}

.modal-actions{ display:flex; gap:10px; justify-content:flex-end }
.btn{ border-radius:10px; padding:8px 14px; font-weight:700; cursor:pointer }
.btn-secondary{ background:transparent; border:1px solid rgba(255,255,255,.2); color:#e5e7eb }
.btn-secondary:hover{ background:rgba(255,255,255,.06) }
.btn-primary{ background:#0ea5b7; border:1px solid #0ea5b7; color:#062025 }
.btn-primary:hover{ filter:brightness(1.05) }

/* ===== Util ===== */
.visually-hidden{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0;
}

/* ===== Responsivo ===== */
@media (max-width:640px){
  .cartao .lb{ min-width:140px }
  .card-actions{ flex-wrap:wrap; justify-content:space-between }
  .btn-done, .btn-resched{ width:100% }
}


/* ===== Modal reagendar (override forte) ===== */
.modal.hidden { display: none !important; }

.modal {
  position: fixed !important;
  inset: 0 !important;
  z-index: 99999 !important;         /* acima de tudo */
  background: rgba(0,0,0,0.88) !important; /* fundo BEM opaco */
  display: grid !important;
  place-items: center !important;
  padding: 16px !important;
  backdrop-filter: none !important;           /* tira qualquer blur/transparência */
  -webkit-backdrop-filter: none !important;
}

/* Caixa do modal */
.modal-box {
  width: min(460px, 92vw);
  background: #0f172a;                          /* painel sólido */
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  box-shadow: 0 18px 60px rgba(0,0,0,.70);      /* sombra forte */
  padding: 18px;
  color: #e5e7eb;
}

/* Cabeçalho/descrição */
.modal-title { margin: 0 0 6px; font-size: 18px; font-weight: 800; }
.modal-text  { margin: 0 0 12px; opacity: .9; }

/* Campo de data */
.modal-field { margin: 12px 0 18px; }
.modal-field input[type="date"]{
  width: 100%;
  height: 44px;
  background: #0b1220;
  border: 1px solid rgba(255,255,255,.18);
  color: #e5e7eb;
  border-radius: 10px;
  padding: 10px 12px;
  color-scheme: dark;                            /* força calendário escuro */
}
.modal-field input[type="date"]::-webkit-calendar-picker-indicator{
  filter: invert(1) brightness(1.6);             /* ícone visível no dark */
}

/* Botões */
.modal-actions { display:flex; gap:10px; justify-content:flex-end; }
.btn { border-radius:10px; padding:8px 14px; font-weight:700; cursor:pointer; }
.btn-secondary { background: transparent; border:1px solid rgba(255,255,255,.25); color:#e5e7eb; }
.btn-secondary:hover { background: rgba(255,255,255,.08); }
.btn-primary { background:#0ea5b7; border:1px solid #0ea5b7; color:#062025; }
.btn-primary:hover { filter: brightness(1.05); }

/* Evita scroll do fundo quando o modal abre */
html.no-scroll, body.no-scroll { overflow: hidden !important; }
